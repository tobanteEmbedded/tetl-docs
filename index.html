<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tetl: Embedded Template Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tetl<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">Embedded Template Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Embedded Template Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> Tobante's embedded template library. A STL-like C++ template library designed for embedded devices with limited resources. Supports freestanding and hosted environments.</p>
<ul>
<li>Quick Start</li>
<li>Status<ul>
<li>Hosted</li>
<li>Freestanding</li>
<li>Analysis</li>
</ul>
</li>
<li>Design Goals<ul>
<li>Error Handling</li>
<li>Near Future</li>
<li>Far Future</li>
</ul>
</li>
<li>Project Integration<ul>
<li>Command Line</li>
<li>CMake</li>
<li>PlatformIO</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
Quick Start</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="algorithm_8hpp.html">etl/algorithm.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="array_8hpp.html">etl/array.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> main() -&gt; <span class="keywordtype">int</span> {</div>
<div class="line">  <span class="keyword">auto</span> <span class="keyword">const</span> numbers = <a class="code hl_struct" href="structetl_1_1array.html">etl::array</a>{1, 2, 3, 4, 5};</div>
<div class="line">  <span class="keyword">auto</span> <span class="keyword">const</span> greater_two = [] (<span class="keyword">auto</span> <span class="keyword">const</span> v) { <span class="keywordflow">return</span> v &gt; 2; };</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_function" href="group__algorithm.html#gadf36ef6fdcb46c9ad8060d4520016096">etl::count_if</a>(numbers.begin(), numbers.end(), greater_two);</div>
<div class="line">}</div>
<div class="ttc" id="aalgorithm_8hpp_html"><div class="ttname"><a href="algorithm_8hpp.html">algorithm.hpp</a></div></div>
<div class="ttc" id="aarray_8hpp_html"><div class="ttname"><a href="array_8hpp.html">array.hpp</a></div></div>
<div class="ttc" id="agroup__algorithm_html_gadf36ef6fdcb46c9ad8060d4520016096"><div class="ttname"><a href="group__algorithm.html#gadf36ef6fdcb46c9ad8060d4520016096">etl::count_if</a></div><div class="ttdeci">constexpr auto count_if(InputIt first, InputIt last, Predicate p) -&gt; typename iterator_traits&lt; InputIt &gt;::difference_type</div><div class="ttdoc">Returns the number of elements in the range [first, last) satisfying specific criteria....</div><div class="ttdef"><b>Definition</b> count_if.hpp:22</div></div>
<div class="ttc" id="astructetl_1_1array_html"><div class="ttname"><a href="structetl_1_1array.html">etl::array</a></div><div class="ttdoc">A container that encapsulates fixed size arrays.</div><div class="ttdef"><b>Definition</b> array.hpp:39</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">g++ -Wall -Wextra -Wpedantic -std=c++20 -I path/to/tetl/include main.cpp</div>
</div><!-- fragment --><p>For examples look at the <a href="./examples">examples</a> subdirectory or the test files in <a href="./tests">tests</a>. The <a href="https://tobanteembedded.github.io/tetl-docs/">API reference</a> is currently work in progress.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Status</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>License</b>   </th><th class="markdownTableHeadNone"><b>Lines of Code</b>   </th><th class="markdownTableHeadNone"><b>Progress</b>   </th><th class="markdownTableHeadNone"><b>Documentation</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/tobanteEmbedded/tetl/blob/main/LICENSE.txt"><img src="https://img.shields.io/badge/License-Boost%201.0-lightblue.svg" alt="License" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyNone"><img src="https://tokei.rs/b1/github/tobanteEmbedded/tetl" alt="LOC" class="inline"/>   </td><td class="markdownTableBodyNone"><a href="https://docs.google.com/spreadsheets/d/1-qwa7tFnjFdgY9XKBy2fAsDozAfG8lXsJXHwA_ITQqM/edit?usp=sharing">Spreadsheet</a> / <a class="el" href="md_docs_2progress.html">Papers</a>   </td><td class="markdownTableBodyNone"><a href="https://tobanteembedded.github.io/tetl-docs/">API Reference</a>   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md15"></a>
Hosted</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter"><b>Platform</b>   </th><th class="markdownTableHeadCenter"><b>Status</b>   </th><th class="markdownTableHeadCenter"><b>Notes</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><b>Linux</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/linux.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/linux.yml/badge.svg" alt="Linux" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">GCC 11/12/13 &amp; Clang 16/17/18    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><b>macOS</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/macos.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/macos.yml/badge.svg" alt="macOS" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">Xcode x64 &amp; ARM64    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><b>Windows</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/windows.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/windows.yml/badge.svg" alt="Windows" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">Visual Studio 2022, ClangCL &amp; Clang    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><b>JS/WASM</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/emscripten.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/emscripten.yml/badge.svg" alt="Emscripten" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">Emscripten Latest   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md16"></a>
Freestanding</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter"><b>Platform</b>   </th><th class="markdownTableHeadCenter"><b>Status</b>   </th><th class="markdownTableHeadCenter"><b>Notes</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><b>ARM</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/freestanding-arm.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/freestanding-arm.yml/badge.svg" alt="ARM" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">GCC 13    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><b>AVR</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/freestanding-avr.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/freestanding-avr.yml/badge.svg" alt="AVR" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">GCC 12    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><b>MSP430</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/freestanding-msp430.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/freestanding-msp430.yml/badge.svg" alt="MSP430" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">GCC 13   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md17"></a>
Analysis</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter"><b>Type</b>   </th><th class="markdownTableHeadCenter"><b>Status</b>   </th><th class="markdownTableHeadCenter"><b>Notes</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><b>Coverage</b>   </td><td class="markdownTableBodyCenter"><a href="https://codecov.io/gh/tobanteEmbedded/tetl"><img src="https://codecov.io/gh/tobanteEmbedded/tetl/branch/main/graph/badge.svg?token=f1QAWTtpIo" alt="codecov" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">GCC 11    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><b>Sanitizers</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/sanitizers.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/sanitizers.yml/badge.svg" alt="ASAN/UBSAN" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">Clang 18    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><b>Clang-Tidy</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/clang-tidy.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/clang-tidy.yml/badge.svg" alt="Clang-Tidy" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">Clang 18    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><b>Clang -Weverything</b>   </td><td class="markdownTableBodyCenter"><a href="https://github.com/tobanteEmbedded/tetl/actions/workflows/clang-weverything.yml"><img src="https://github.com/tobanteEmbedded/tetl/actions/workflows/clang-weverything.yml/badge.svg" alt="Clang -Weverything" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyCenter">Clang 18   </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>All test are compiled in debug and release mode with at least <code>-Wall -Wextra -Wpedantic -Werror</code> or <code>/W3 /WX</code>. The full list of warning flags can be found in the CMake configuration: <a href="./cmake/compiler_warnings.cmake">cmake/compiler_warnings.cmake</a>. Hosted platforms run all tests &amp; examples, while freestanding builds only compile (ARM &amp; AVR) and link (AVR) the example files.</dd></dl>
<h1><a class="anchor" id="autotoc_md18"></a>
Design Goals</h1>
<ul>
<li>100% portable (no STL headers required, minimum of C headers)</li>
<li>Header only</li>
<li>C++20 and beyond (freestanding or hosted)</li>
<li>Similar API to the STL</li>
<li>No dynamic memory</li>
<li><code>constexpr</code> all the things</li>
<li>Minimize undefined behavoir. See Error Handling</li>
<li>Easy desktop development (cmake)</li>
</ul>
<p>It all started when I wanted to have a vector without dynamic memory. At that time I didn't know that proposals like <a href="https://github.com/gnzlbg/static_vector">github.com/gnzlbg/static_vector</a> where in the making. My actual goal has turned into a mammoth project. A standard library for microcontrollers and other embedded environments. The API is, as far as it is technically feasible, identical to the STL. All algorithms work identically, pair and friend are available and containers like set, map and vector are also implemented, but with different names.</p>
<p>All containers work only with memory on the stack. This means that their size must be known at compile time. Furthermore I assume an environment in which exceptions and RTTI migth be disabled. This results in the problem that not all members of a container can be implemented the same way as they are in the STL. Any function that returns a reference to a sequence element has the ability to throw exceptions in a normal hosted environment if the index is out of bounds. If exceptions are disabled, this is not possible. For now, my solution to this problem is to delegate to the user. Unsafe methods like <code>etl::static_vector::operator[]</code> are still available (with asserts in debug builds), while throwing methods like <code>etl::static_vector::at</code> are not implemented. This is currently subject to change. See Error Handling for more details.</p>
<p>Unlike LLVMs <code>SmallVector</code>, <code><a class="el" href="structetl_1_1static__vector.html" title="Dynamically-resizable fixed-capacity vector.">etl::static_vector</a></code> &amp; friends do not have a base class which they can slice to. My plan is to add mutable view-like non-owning types for each container. A <code><a class="el" href="structetl_1_1static__vector.html" title="Dynamically-resizable fixed-capacity vector.">etl::static_vector</a></code> we would have a <code>vector_ref</code> which would work mostly like a <code>span</code>, but would also provide the vector interface. I don't want to name the types <code>*_view</code>, since the word <code>view</code> implies non-mutable in standard containers like <code>string_view</code>. None of the container_ref types have been implemented yet.</p>
<p>The headers <a href="./include/etl/algorithm.hpp">etl/algorithm.hpp</a> and <a href="./include/etl/numeric.hpp">etl/numeric.hpp</a> provide all algorithms from the standard. Unlike implementations found in libstdc++ or libc++, mine are primarily optimized for code size and not runtime performance. Overloads with an <code>ExecutionPolicy</code> are not implemented.</p>
<p>Headers like <a href="./include/etl/chrono.hpp">etl/chrono.hpp</a> and <a href="./include/etl/mutex.hpp">etl/mutex.hpp</a> only provide classes &amp; functions that can be implemented in a portable way. Platform specific functionality like <code>steady_clock</code> or <code>mutex</code> can be provided by the user. The user provided types should meet the requirements listed in <a href="https://en.cppreference.com/w/cpp/named_req">Named Requirements</a> to work seamlessly with the types provided in the <code>etl</code> namespace.</p>
<p>The <a href="./include/etl/experimental">etl/experimental</a> subdirectory includes libraries that use <code>etl</code> as their foundation. It can be thought of as a mini boost-like library collection. Everything is work in progress.</p>
<ul>
<li>Networking (buffers, ntoh, ...)</li>
<li>Strong types</li>
<li>STM32 HAL</li>
<li>DSP DSL</li>
<li>FreeRTOS Abstraction<ul>
<li>Stubs for unittests run on desktop machines</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md19"></a>
Error Handling</h2>
<p>Since I assume that you might have exceptions disabled, I need a different way of reporting exceptional cases to you which occured deep inside the library. To keep the behavior of my library and actual STL implementations as close as possible, I've chosen to add a global assert/exception handler functions, which can be overriden by enabling the <code>TETL_ENABLE_CUSTOM_ASSERT_HANDLER</code> macro.</p>
<p>For more details about the global assertion handler <code><a class="el" href="namespaceetl.html#afcdd4cbf8740ceb15439f10eee6080ee">etl::assert_handler</a></code> &amp; the assertion macro <code>TETL_ASSERT</code> see the <a href="./examples/cassert.cpp">examples/cassert.cpp</a> file.</p>
<h1><a class="anchor" id="autotoc_md20"></a>
Project Integration</h1>
<p>The following steps explain how to add <code>etl</code> to your project. Embedded or desktop.</p>
<div class="fragment"><div class="line">cd path/to/your/project</div>
<div class="line">mkdir 3rd_party</div>
<div class="line">git submodule add https://github.com/tobanteEmbedded/tetl.git 3rd_party/tetl</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21"></a>
Command Line</h2>
<div class="fragment"><div class="line">CXXFLAGS += -std=c++20 -I3rd_party/tetl/include</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md22"></a>
CMake</h2>
<p>Add <code>tetl</code> as a git submodule, then add these lines to your <code>CMakeLists.txt</code>:</p>
<div class="fragment"><div class="line"># tetl::etl is an interface target.</div>
<div class="line"># The target only sets the include path. No static library is created.</div>
<div class="line"> </div>
<div class="line">add_subdirectory(3rd_party/tetl/include EXCLUDE_FROM_ALL)</div>
<div class="line">target_link_libraries(${YOUR_TARGET} tetl::etl)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23"></a>
PlatformIO</h2>
<p>Add <code>tetl</code> as a git submodule, then add these lines to your <code>platformio.ini</code>:</p>
<div class="fragment"><div class="line">; Most Arduino code does not compile unless you have GNU extensions enabled.</div>
<div class="line">[env:yourenv]</div>
<div class="line">build_unflags = -std=gnu++11</div>
<div class="line">build_flags = -std=gnu++20 -Wno-register -I 3rd_party/tetl/include</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"/>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Apr 15 2024 23:06:54 for tetl by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
